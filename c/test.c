#include<stdio.h>
#include<string.h>
#include<stdlib.h>
#include<unistd.h>
#include <time.h>

#include "Account_Logic.h"

Change_For_Userinfo test;

// Filenameìš© ì „ì—­ë³€ìˆ˜ í•˜ë‚˜ ì§€ì • í•„ìš” -> ì´ˆê¸° íŒŒì¼ í•„ìš”, ë¶ˆí•©ê²© ê°’ ë“¤ì–´ìˆê²Œ ìƒì„±í•´ì•¼í•¨
void Pass_Test_Result(int score)
{
    FILE * fp = fopen(test.Filename5, "wt");
    char info[100] = "í•©ê²©,";
    char ch_score[100] = "ì ìˆ˜:";
    sprintf(ch_score, "%d", score);
    strcat(info, ch_score);
    fputs(info, fp);
    fclose(fp);
}

void Pass_info(void) // íŒŒì¼ í•©ì³¤ì„ ë•Œ ì“¸ í•¨ìˆ˜ (ì‹¤ê¸° í•©ê²© ì—¬ë¶€ ì¡°íšŒ)
{
    FILE * fp = fopen(test.Filename5, "rt");
    char lines[100];

    fgets(lines, 100, fp);
    fclose(fp);
}


int right_up(int* A, int* B, int* TEMP, int* DEATH, int* SUC, int MAP[][30], int MAP2[][30])    //ì˜¤ë¥¸ìª½ ê°€ì†(ì „ì§„ìš©)
{
    for(*TEMP=0; *TEMP<3; *TEMP++)
    {
        MAP[*A][*B]=MAP2[*A][*B];
        *B+=1;
        if(MAP[*A][*B]==13)
            *SUC+=1;
        else if(MAP[*A][*B]==0 || MAP[*A][*B]==10 || MAP[*A][*B]==11 || MAP[*A][*B]==14)
        {
            *DEATH+=1;
        }
        else
            MAP[*A][*B]=99;
    }
}

int right(int* A, int* B, int* TEMP, int* DEATH, int* SUC, int MAP[][30], int MAP2[][30])       //ì˜¤ë¥¸ìª½ ì´ë™(ì „ì§„ìš©)
{
    MAP[*A][*B]=MAP2[*A][*B];
    *B+=1;
    if(MAP[*A][*B]==0 || MAP[*A][*B]==10 || MAP[*A][*B]==11 || MAP[*A][*B]==14)
    {
        *DEATH+=1;
    }
    else if(MAP[*A][*B]==13)
        *SUC+=1;
    else
        MAP[*A][*B]=99;
}

int left_up(int* A, int* B, int* TEMP, int* DEATH, int* SUC, int MAP[][30], int MAP2[][30])     //ì™¼ìª½ ê°€ì†(ì „ì§„ìš©)
{
    for(*TEMP=0; *TEMP<3; *TEMP++)
    {
        MAP[*A][*B]=MAP2[*A][*B];
        *B-=1;
        if(MAP[*A][*B]==13)
            *SUC+=1;
        else if(MAP[*A][*B]==0 || MAP[*A][*B]==10 || MAP[*A][*B]==11 || MAP[*A][*B]==14)
        {
            *DEATH+=1;
        }
        else
            MAP[*A][*B]=99;
    }
}

int left(int* A, int* B, int* TEMP, int* DEATH, int* SUC, int MAP[][30], int MAP2[][30])        //ì™¼ìª½ ì´ë™
{
    MAP[*A][*B]=MAP2[*A][*B];
    *B-=1;
    if(MAP[*A][*B]==0 || MAP[*A][*B]==10 || MAP[*A][*B]==11 || MAP[*A][*B]==14)
    {
        *DEATH+=1;
    }
    else if(MAP[*A][*B]==13)
        *SUC+=1;
    else
        MAP[*A][*B]=99;
}

int up_up(int* A, int* B, int* TEMP, int* DEATH, int* SUC, int MAP[][30], int MAP2[][30])       //ìœ„ë¡œ ê°€ì†
{
    for(*TEMP=0; *TEMP<3; *TEMP++)
    {
        MAP[*A][*B]=MAP2[*A][*B];
        *A-=1;
        if(MAP[*A][*B]==13)
            *SUC+=1;
        else if(MAP[*A][*B]==0 || MAP[*A][*B]==10 || MAP[*A][*B]==11 || MAP[*A][*B]==14)
        {
            *DEATH+=1;
        }
        else
            MAP[*A][*B]=99;
    }
}

int up(int* A, int* B, int* TEMP, int* DEATH, int* SUC, int MAP[][30], int MAP2[][30])          //ìœ„ë¡œ ì´ë™
{

    MAP[*A][*B]=MAP2[*A][*B];
    *A-=1;
    if(MAP[*A][*B]==0 || MAP[*A][*B]==10 || MAP[*A][*B]==11 || MAP[*A][*B]==14)
    {
        *DEATH+=1;
    }
    else if(MAP[*A][*B]==13)
        *SUC+=1;
    else
        MAP[*A][*B]=99;
}

int down_up(int* A, int* B, int* TEMP, int* DEATH, int* SUC, int MAP[][30], int MAP2[][30])     //ì•„ë˜ë¡œ ê°€ì†
{
    for(*TEMP=0; *TEMP<3; *TEMP++)
    {
        MAP[*A][*B]=MAP2[*A][*B];
        *A+=1;
        if(MAP[*A][*B]==13)
            *SUC+=1;
        else if(MAP[*A][*B]==0 || MAP[*A][*B]==10 || MAP[*A][*B]==11 || MAP[*A][*B]==14)
        {
            *DEATH+=1;
        }
        else
            MAP[*A][*B]=99;
    }
}

int down(int* A, int* B, int* TEMP, int* DEATH, int* SUC, int MAP[][30], int MAP2[][30])        //ì•„ë˜ë¡œ ì´ë™
{
    MAP[*A][*B]=MAP2[*A][*B];
    *A+=1;
    if(MAP[*A][*B]==0 || MAP[*A][*B]==10 || MAP[*A][*B]==11 || MAP[*A][*B]==14)
    {
        *DEATH+=1;
    }
    else if(MAP[*A][*B]==13)
        *SUC+=1;
    else
        MAP[*A][*B]=99;
}

int up1(int* A, int* B, int* TEMP, int* DEATH, int* SUC, int* L, int MAP[][30], int MAP2[][30], int* SCORE)       //ìœ„ë¡œ ì°¨ì„  ë³€ê²½
{
    MAP[*A][*B]=MAP2[*A][*B];
    *A-=1;
    if(MAP[*A][*B]==0 || MAP[*A][*B]==10 || MAP[*A][*B]==11 || MAP[*A][*B]==14)
    {
        *DEATH+=1;
    }
    else if(MAP[*A][*B]==13)
        *SUC+=1;
    else
    {
        MAP[*A][*B]=99;
        if(*L%2==0)
        {
            *SCORE-=10;
            printf("10ì  ê°ì . í˜„ì¬ì ìˆ˜ %d\n", *SCORE);
        }
        *L=0;
    }
}

int down1(int* A, int* B, int* TEMP, int* DEATH, int* SUC, int* L_2, int MAP[][30], int MAP2[][30], int* SCORE)     //ì•„ë˜ë¡œ ì°¨ì„  ë³€ê²½
{
    MAP[*A][*B]=MAP2[*A][*B];
    *A+=1;
    if(MAP[*A][*B]==0 || MAP[*A][*B]==10 || MAP[*A][*B]==11)
    {
        *DEATH+=1;
    }
    else if(MAP[*A][*B]==13)
        *SUC+=1;
    else
    {
        MAP[*A][*B]=99;
        if(*L_2%2==0)
        {
            *SCORE-=10;
            printf("10ì  ê°ì . í˜„ì¬ì ìˆ˜ %d\n", *SCORE);
        }
        *L_2=0;
    }
}

int left1(int* A, int* B, int* TEMP, int* DEATH, int* SUC, int* L, int MAP[][30], int MAP2[][30], int* SCORE)     //ì™¼ìœ¼ë¡œ ì°¨ì„  ë³€ê²½
{
    MAP[*A][*B]=MAP2[*A][*B];
    *B-=1;
    if(MAP[*A][*B]==0 || MAP[*A][*B]==10 || MAP[*A][*B]==11)
    {
        *DEATH+=1;
    }
    else if(MAP[*A][*B]==13)
        *SUC+=1;
    else
    {
        MAP[*A][*B]=99;
        if(*L%2==0)
        {
            *SCORE-=10;
            printf("10ì  ê°ì . í˜„ì¬ì ìˆ˜ %d\n", *SCORE);
        }
        *L=0;
    }
}

int right1(int* A, int* B, int* TEMP, int* DEATH, int* SUC, int* L_2, int MAP[][30], int MAP2[][30], int* SCORE)      //ì˜¤ë¥¸ìœ¼ë¡œ ì°¨ì„  ë³€ê²½
{
    MAP[*A][*B]=MAP2[*A][*B];
    *B+=1;
    if(MAP[*A][*B]==0 || MAP[*A][*B]==10 || MAP[*A][*B]==11)
    {
        *DEATH+=1;
    }
    else if(MAP[*A][*B]==13)
        *SUC+=1;
    else
    {
        MAP[*A][*B]=99;
        if(*L_2%2==0)
        {
            *SCORE-=10;
            printf("10ì  ê°ì . í˜„ì¬ì ìˆ˜ %d\n", *SCORE);
        }
        *L_2=0;
    }
}

int light_l(int* L_O, int* L_O2)
{
    *L_O2=0;
    if(*L_O%2==0)
    {
        printf("\nì¢Œì¸¡ ê¹œë¹¡ì´ ì¼œì§. ì°¨ì„  ë³€ê²½ ê°€ëŠ¥\n");
        *L_O+=1;
    }
    else
    {
        printf("\nì¢Œì¸¡ ê¹œë¹¡ì´ êº¼ì§. ì°¨ì„  ë³€ê²½ ê°ì \n");
        *L_O+=1;
    }
}

int light_r(int* L_O, int* L_O2)
{
    *L_O=0;
    if(*L_O2%2==0)
    {
        printf("\nìš°ì¸¡ ê¹œë¹¡ì´ ì¼œì§. ì°¨ì„  ë³€ê²½ ê°€ëŠ¥\n");
        *L_O2+=1;
    }
    else
    {
        printf("\nìš°ì¸¡ ê¹œë¹¡ì´ êº¼ì§. ì°¨ì„  ë³€ê²½ ê°ì \n");
        *L_O2+=1;
    }
}

void Test_Score(int score)
{
    FILE * fp = fopen("score.txt", "wt");

    char text[10];
    sprintf(text, "%d", score);
    fputs(text, fp);
    fclose(fp);

}


void maintest()
{
    srand((int)time(NULL));
    int i, j;
    int a, b, p1, p2, p3, p4, tfl1, tfl2, tfl3, tfl4;
    int map[24][30]={};
    int map2[24][30]={};
    int field1[24][30]=
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 4, 4, 4, 4, 10, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 10, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 4, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 10, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 4, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 12, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 4, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 12, 4, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 4, 14, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 13, 13, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 12, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 12, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 4, 4, 4, 4, 10, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 10, 4, 4, 4, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 10, 4, 4, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};

    int field2[24][30]=
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 
        0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 10, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 
        0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 10, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 
        0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 14, 0, 0, 0, 0, 12, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 4, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 4, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 12, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 12, 4, 14, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 10, 4, 4, 4, 0, 0, 0, 0, 
        4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 
        4, 4, 4, 4, 4, 4, 4, 10, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 13, 13, 0, 0, 0, 0};

    int field3[24][30]=
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 10, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 10, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 4, 10, 0, 0, 0, 0, 0, 0, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 12, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 12, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 10, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 4, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0, 12, 4, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 4, 10, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 4, 10, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 12, 4, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 12, 4, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 10, 4, 4, 4, 4, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 4, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 4, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 13, 0, 0, 0, 0, 
        0, 0, 0, 0, 14, 4, 4, 4, 4, 4, 10, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 13, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};

    int field4[24][30]=
        {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 4, 4, 4, 4, 4, 10, 4, 4, 4, 4, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 
        0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 14, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 4, 10, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 4, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 4, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 0, 0, 4, 4, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 12, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 0, 0, 4, 10, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 12, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 4, 4, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 4, 4, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 0, 0, 0, 0, 4, 4, 0, 0, 4, 4, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 10, 4, 4, 0, 0, 0, 0, 4, 4, 0, 0, 12, 4, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 14, 4, 4, 0, 0, 12, 4, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 4, 4, 0, 0, 4, 12, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 4, 4, 0, 0, 4, 12, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 4, 4, 0, 0, 4, 4, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 4, 4, 0, 0, 4, 4, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 4, 4, 0, 0, 4, 4, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 10, 4, 4, 4, 4, 4, 4, 0, 0, 4, 4, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 4, 4, 0, 0, 13, 13, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};

    int temp;
    int light_odd=0;            //ì¢Œì¸¡ ê¹œë¹¡ì´ ì“¸ë•Œ
    int light_odd2=0;           //ìš°ì¸¡ ê¹œë¹¡ì´ ì“¸ë•Œ
    int start=0;
    int score=100;              //ì ìˆ˜
    int direc=1000;                  //ë°©í–¥
    int turn=0;                 //í„´ íšŸìˆ˜
    int x, y;                   //ì‹ í˜¸ìœ„ë°˜ forë¬¸
    int s=0;                    //ì‹ í˜¸ìœ„ë°˜ ë³€ìˆ˜

    int map_choose = rand() % 4; // 0 ~ 3ì¤‘ì— ëœë¤ ì¶œë ¥

    int death=0;            //ì‹¤ê²©
    int suc=0;              //í•©ê²©


    char move1='x';               //ì‚¬ìš©ì ì›€ì§ì„
    // map[a][b]=99;

    if (map_choose == 0)
        {
            a=23;
            b=0;
            p1=8;
            p2=3;
            p3=12;
            p4=21;
            tfl1=10;
            tfl2=6;
            tfl3=10;
            tfl4=24;
            for(i=0; i<24; i++)
            {
                for(j=0; j<30; j++)
                {
                    map[i][j]=field1[i][j];
                    map2[i][j]=field1[i][j];
                }
            }
        }
        

        else if(map_choose == 1)
        {
            a=21;
            b=0;
            p1=15;
            p2=7;               //ë³´í–‰ì ìœ„ì¹˜
            p3=14;
            p4=18;           //ë³´í–‰ì ìœ„ì¹˜
            tfl1=16;
            tfl2=10;         //ì‹ í˜¸ë“± ìœ„ì¹˜
            tfl3=12;
            tfl4=14;        //ì‹ í˜¸ë“± ìœ„ì¹˜
            for(i=0; i<24; i++)
            {
                for(j=0; j<30; j++)
                {
                    map[i][j]=field2[i][j];
                    map2[i][j]=field2[i][j];
                }
            }


        }

        else if(map_choose==2)
        {
            a=9;
            b=13;
            p1=7;
            p2=22;               //ë³´í–‰ì ìœ„ì¹˜
            p3=16;
            p4=4;           //ë³´í–‰ì ìœ„ì¹˜
            tfl1=19;
            tfl2=4;         //ì‹ í˜¸ë“± ìœ„ì¹˜
            tfl3=5;
            tfl4=13;        //ì‹ í˜¸ë“± ìœ„ì¹˜
            for(i=0; i<24; i++)
            {
                for(j=0; j<30; j++)
                {
                    map[i][j]=field3[i][j];
                    map2[i][j]=field3[i][j];
                }
            }
        }

        else if(map_choose==3)
        {
            a=3;
            b=2;
            p1=7;
            p2=9;               //ë³´í–‰ì ìœ„ì¹˜
            p3=15;
            p4=23;           //ë³´í–‰ì ìœ„ì¹˜
            tfl1=3;
            tfl2=26;         //ì‹ í˜¸ë“± ìœ„ì¹˜
            tfl3=12;
            tfl4=19;        //ì‹ í˜¸ë“± ìœ„ì¹˜
            for(i=0; i<24; i++)
            {
                for(j=0; j<30; j++)
                {
                    map[i][j]=field4[i][j];
                    map2[i][j]=field4[i][j];
                }
            }
        }
    while(1)
    //w 2í„´ë‹¹ í•œì¹¸, r ì†ë„ ì¦ê°€, q,e ê¹œë¹¡ì´
    //a ì¢Œ ì°¨ì„ ë³€ê²½, d ìš° ì°¨ì„ ë³€ê²½, z ì¢ŒíšŒì „, c ìš°íšŒì „, s ì†ë„ ê°ì†Œ
    
    {



        char move1='x';
        map[a][b]=99;
        map[p1][p2]=11;
        map[p3][p4]=11;
        map[tfl1][tfl2]=15;
        map[tfl3][tfl4]=15;
        if(start==0)
        {
            printf("\nwë¥¼ ëˆŒëŸ¬ ì‹œë™ì„ ê±¸ì–´ì£¼ì„¸ìš”\n");
            scanf(" %c", &move1);
            if(move1!='w')
            {
                printf("ì‹¤ê²©\n");
                break;
            }
            else
            {
                start=1;
            }
        }
        else
        {
            turn+=1;
            printf("%dë²ˆì§¸ í„´ì…ë‹ˆë‹¤.", turn);
            printf("\n1ë‹¨:w\tê°€ì†:r\tí›„ì§„:s\tì œìë¦¬ì— ë©ˆì¶”ê¸°:b\tì¢Œì¸¡ ê¹œë¹¡ì´:q\tìš°ì¸¡ ê¹œë¹¡ì´:e\n");
            printf("ì¢Œì¸¡ ì°¨ì„  ë³€ê²½:a\tìš°ì¸¡ ì°¨ì„ ë³€ê²½:d\t\tì¢ŒíšŒì „:z\tìš°íšŒì „:c");
            printf("\ní–‰ë™ ì…ë ¥");

            scanf(" %c", &move1);
            if(move1=='z')
            {
                direc+=1; 
            }
            else if(move1=='c')
            {
                direc-=1;

            }
        }
        system("clear");
        if(direc%4==0)            //ë°©í–¥ì „í™˜ ì—†ì„ ì‹œ(ì¡°ê±´ì€ %4ë¡œ ì¸í•œ ë‚˜ë¨¸ì§€)///////////
        {
            if(move1=='r')    //ì¦ê°€ ì†ë„
                right_up(&a, &b, &temp, &death, &suc, map, map2);
            
            else if(move1=='w')     //ì¼ì • ì†ë„
                right(&a, &b, &temp, &death, &suc, map, map2);
            
            else if(move1=='s')     //ì†ë„ ê°ì†Œ
                left(&a, &b, &temp, &death, &suc, map, map2);
            
            else if(move1=='q')          //ì¢Œì¸¡ ê¹œë¹¡ì´
                light_l(&light_odd, &light_odd2);
            
            else if(move1=='a')         //ìœ„ë¡œ ì°¨ì„ ë³€ê²½
                up1(&a, &b, &temp, &death, &suc, &light_odd, map, map2, &score);
            
            else if(move1=='e')          //ìš°ì¸¡ ê¹œë¹¡ì´
                light_r(&light_odd, &light_odd2);
            
            else if(move1=='d')         //ì•„ë˜ë¡œ ì°¨ì„ ë³€ê²½
                down1(&a, &b, &temp, &death, &suc, &light_odd2, map, map2, &score);
            

        }
        //////////////////ë°©í–¥ì „í™˜//////////////////////////////////////////////////
        else if(direc%4==1)
        {
            if(move1=='r')    //ìœ„ë¡œ ì¦ê°€ ì†ë„
                up_up(&a, &b, &temp, &death, &suc, map, map2);
            
            else if(move1=='w')     //ì¼ì • ì†ë„
                up(&a, &b, &temp, &death, &suc, map, map2);
            
            else if(move1=='s')     //ì†ë„ ê°ì†Œ
                down(&a, &b, &temp, &death, &suc, map, map2);
            
            else if(move1=='q')          //ì¢Œì¸¡ ê¹œë¹¡ì´
                light_l(&light_odd, &light_odd2);
            
            else if(move1=='a')         //ì™¼ìœ¼ë¡œ ì°¨ì„ ë³€ê²½
                left1(&a, &b, &temp, &death, &suc, &light_odd, map, map2, &score);
            
            else if(move1=='e')          //ìš°ì¸¡ ê¹œë¹¡ì´
                light_r(&light_odd, &light_odd2);
            
            else if(move1=='d')         //ì˜¤ë¥¸ìœ¼ë¡œ ì°¨ì„ ë³€ê²½
                right1(&a, &b, &temp, &death, &suc, &light_odd2, map, map2, &score);
            

        }
        ///////////////////////////ë°©í–¥ì „í™˜////////////////////////////////////
        else if(direc%4==2)
        {
            if(move1=='r')    //ì¦ê°€ ì†ë„
                left_up(&a, &b, &temp, &death, &suc, map, map2);
            
            else if(move1=='w')     //ì¼ì • ì†ë„
                left(&a, &b, &temp, &death, &suc, map, map2);
            
            else if(move1=='s')     //ì†ë„ ê°ì†Œ
                right(&a, &b, &temp, &death, &suc, map, map2);
            
            else if(move1=='q')          //ì¢Œì¸¡ ê¹œë¹¡ì´
                light_l(&light_odd, &light_odd2);
            
            else if(move1=='a')         //ì•„ë˜ë¡œ ì°¨ì„ ë³€ê²½
                down1(&a, &b, &temp, &death, &suc, &light_odd, map, map2, &score);
            
            else if(move1=='e')          //ìš°ì¸¡ ê¹œë¹¡ì´
                light_r(&light_odd, &light_odd2);
            
            else if(move1=='d')         //ìœ„ë¡œ ì°¨ì„ ë³€ê²½
                up1(&a, &b, &temp, &death, &suc, &light_odd2, map, map2, &score);
            

        }
        ////////////////////////ë°©í–¥ì „í™˜///////////////////////////////////
        else if(direc%4==3)
        {
            if(move1=='r')    //ì¦ê°€ ì†ë„
                down_up(&a, &b, &temp, &death, &suc, map, map2);
            
            else if(move1=='w')     //ì¼ì • ì†ë„
                down(&a, &b, &temp, &death, &suc, map, map2);
            
            else if(move1=='s')     //ì†ë„ ê°ì†Œ
                up(&a, &b, &temp, &death, &suc, map, map2);
            
            else if(move1=='q')          //ì¢Œì¸¡ ê¹œë¹¡ì´
                light_l(&light_odd, &light_odd2);

            else if(move1=='a')         //ì˜¤ë¥¸ìœ¼ë¡œ ì°¨ì„ ë³€ê²½
                right1(&a, &b, &temp, &death, &suc, &light_odd, map, map2, &score);
            
            else if(move1=='e')          //ìš°ì¸¡ ê¹œë¹¡ì´
                light_r(&light_odd, &light_odd2);
            
            else if(move1=='d')         //ì™¼ìœ¼ë¡œ ì°¨ì„ ë³€ê²½
                left1(&a, &b, &temp, &death, &suc, &light_odd2, map, map2, &score);
            
        }

        for(int i=0; i<24; i++)         //ë§µ ì¶œë ¥
        {
            for(int j=0; j<30; j++)
            {
                if(map[i][j]==99)
                    printf("ğŸš— ");
                else if(map[i][j]==4)
                    printf("â¬› ");
                else if(map[i][j]==10)
                    printf("ğŸš™ ");
                else if(map[i][j]==11)
                    printf("ğŸ˜ƒ ");
                else if(map[i][j]==12)
                    printf("â¬œ ");
                else if(map[i][j]==13)
                    printf("â ");
                else if(map[i][j]==14)
                    printf("ğŸš¦ ");
                else if(map[i][j]==15)
                {
                    if(turn%5==0 || turn%5==1)
                    {
                        printf("ğŸŸ© ");
                    }
                    else if(turn%5==2)
                        printf("ğŸŸ¨ ");
                    else if(turn%5==3 || turn%5==4)
                    {
                        printf("ğŸŸ¥ ");
                        for(x=0; x<3; x++)
                        {
                            for(y=0; y<5; y++)
                            {
                                if(map[a][b]==map[i-1+x][j-2+y] || map[a][b]==map[i-2+y][j-1+x])
                                {
                                    s+=1;
                                }
                            }
                        }
                    }
                }

                else if(map[i][j]==0)
                    printf("â–ªï¸  ");
            }
            printf("\n");
        }
        map[p1][p2]=map2[p1][p2];
        map[p3][p4]=map2[p3][p4];
        if(map[p1][p2]==map[a][b] || map[p3][p4]==map[a][b])
            death++;
        p2+=1;
        p4+=1;
        map[p1][p2]=11;
        map[p3][p4]=11;
        if(turn%4==3)
        {
            map[p1][p2]=map2[p1][p2];
            map[p3][p4]=map2[p3][p4];
            p2-=4;
            p4-=4;
        }

        if(suc>0)
        {
            system("clear");
            printf("í•©ê²©! ì ìˆ˜ëŠ” %dì ì…ë‹ˆë‹¤.\n", score);
            Test_Score(score); // ì ìˆ˜ íŒŒì¼ì— ì €ì¥
            break;
        }
        else if(s==1 || death>0 || score<70)
        {
            system("clear");
            printf("ì‹¤ê²©ë˜ì—ˆìŠµë‹ˆë‹¤.");
            break;
        }

    }
}



